<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-white">
  <img
    src="/assets/images/logo.png"
    alt="/assets/images/logo.png"
    style="max-height: 70px; padding-right: 1rem"
    alt="logo"
  />

  <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a
          class="nav-link"
          routerLink="/home"
          routerLinkActive="active"
          routerLinkActive="active"
          >Home</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link"
          routerLink="/shop"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          >Shop</a
        >
      </li>
      <li class="nav-item">
        <a
          class="nav-link disabled"
          routerLink="/test-error"
          routerLinkActive="active"
          >Special Offers</a
        >
      </li>
    </ul>

    <ul class="navbar-nav mr-auto" id="searchInputDesktop">
      <li class="nav-item">
        <div class="search-wrapper cf">
          <input
            type="text"
            (keyup.enter)="onSearch(searchInput.value)"
            #searchInput
            id="searchInput"
            name="searchInput"
            placeholder="Search by word..."
            required
            style="box-shadow: none"
          />
          <button (click)="onSearch(searchInput.value)">Search</button>
        </div>
      </li>
    </ul>

    <div class="d-flex align-items-center">
      <a  routerLink="/basket" class="btn btn-outline-info mr-2 position-relative">
        <i
          class="fa fa-shopping-cart fa-2x text-dark"
          style="font-size: 18px"
        ></i>
        <div *ngIf="(basket$ | async) as basket" class="cart-no"><span *ngIf="basket.items.length>0">{{basket.items.length}}</span></div>
      </a>
      <ng-container *ngIf="(currentUser$ | async) === null">
        <a class="btn btn-outline-primary mr-2" routerLink="/account/login">Login</a>
        <a class="btn btn-outline-success mr-3" routerLink="/account/register">Sign up</a>
      </ng-container>

      <ng-container *ngIf="currentUser$ | async">

        <div class="dropdown ml-3 mr-5" dropdown>
          <a class="dropdown-toggle" style="cursor: pointer;"  dropdownToggle><strong>Welcome</strong> {{(currentUser$
            | async).displayName}}</a>

            <div class="dropdown-menu dropdown-menu-right" *dropdownMenu>
               <a class="dropdown-item d-flex align-items-center py-2" routerLink="/basket">
                 <i class="fa fa-shopping-cart mr-3"></i>View Basket
               </a>
               <a class="dropdown-item d-flex align-items-center py-2" routerLink="/orders">
                <i class="fa fa-history mr-3"></i>View Orders
              </a>
              <div class="dropdown-divider"></div>
              <a  (click)="logout()" class="dropdown-item d-flex align-items-center py-2">
                <i class="fa fa-sign-out mr-3"></i>Logout
              </a>
            </div>
        </div>

       
      </ng-container>
    
    </div>
  </div>

  <button
    class="navbar-toggler"
    type="button"
    data-toggle="collapse"
    data-target="#navbarTogglerDemo01"
    aria-controls="navbarTogglerDemo01"
    aria-expanded="false"
    aria-label="Toggle navigation"
  >
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>
